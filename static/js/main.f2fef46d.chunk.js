(this["webpackJsonprubygems-class-table"]=this["webpackJsonprubygems-class-table"]||[]).push([[0],{36:function(e,t,r){e.exports=r(64)},45:function(e,t,r){},64:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(23),s=r.n(c),o=(r(41),r(42),r(45),r(3)),u=r(8),i=r(12),l=r(6),m=r(11),f=r(33),p=r(34),E=r(31),d=r(19),h=function(){return function(e,t){if(function(e){var t=e.manifest;return!t.isFetching&&!t.items.length}(t()))return e((function(e){return e({type:"REQUEST_MANIFEST"}),fetch("gems.json").then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:"RECEIVE_MANIFEST",payload:{data:e}}}(t))})).catch((function(e){return console.error(e)}))}))}};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b={isFetching:!1,items:[]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_MANIFEST":return g({},e,{isFetching:!0});case"RECEIVE_MANIFEST":return g({},e,{isFetching:!1,items:t.payload.data.map((function(e){return e.replace(/\.json$/,"")}))});default:return e}},_=function(e){return{type:"SET_FILTER_KEY",payload:{filterKey:e}}},O=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:"SET_SORT_KEY",payload:{sortKey:e,reverse:t}}},S=function(e){return{type:"SET_USE_REGEXP",payload:{useRegExp:e}}},R=function(e){return{type:"SET_INVERT_RESULT",payload:{invertResult:e}}},N=function(e){return{type:"SET_HIDE_NO_DOC",payload:{hideNoDoc:e}}};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(r,!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T={class_name:["class_name"],class_desc:["class_desc","method_desc","method_count","class_name"],method_count:["method_count","method_desc","class_desc","class_name"],method_desc:["method_desc","class_desc","method_count","class_name"],total:["total","method_desc","class_desc","method_count","class_name"]},k=Object.keys(T),w={filterKey:"",sortKey:"total",sortOrders:{class_name:1,class_desc:-1,method_count:-1,method_desc:-1,total:-1},useRegExp:!1,invertResult:!1,hideNoDoc:!0,percentage:0,bySlug:{},filteredEntries:[],currentSlug:null},D=function(e){var t=e.bySlug[e.currentSlug],r=t?t.items:[],n=T[e.sortKey];return r.filter((function(t){var r,n,a=e.useRegExp;if(a)try{r=new RegExp(e.filterKey,"i")}catch(c){a=!1}return n=a?r.test(t.class_name):-1!==t.class_name.toLowerCase().indexOf(e.filterKey.toLowerCase()),e.invertResult?!n:n})).filter((function(t){return!e.hideNoDoc||0!==t.total})).sort((function(t,r){for(var a=0;a<n.length;a++){var c=n[a],s=t[c],o=r[c],u=e.sortOrders[c];if(s<o)return-1*u;if(s>o)return 1*u}return 0})).map((function(e,t){return K({},e,{index:t+1})}))},x=function(e){var t=e.currentSlug,r=t&&e.bySlug[t],n=r?r.items:[],a=n.reduce((function(e,t){return e+t.total}),0);if(0===a)return 0;var c=e.filteredEntries.reduce((function(e,t){return e+t.total}),0);return e.filteredEntries.length===n.length?100:0===e.filteredEntries.length?0:Math.round(c/a*1e4)/100},I=function(e,t){var r=K({},e,{filterKey:t.payload.filterKey});return r.filteredEntries=D(r),r.percentage=x(r),r},F=function(e,t){var r=t.payload.sortKey;k.includes(r)||(r="total");var n=t.payload.reverse&&r===e.sortKey?-1:1,a=K({},e.sortOrders);a[r]*=n;var c=K({},e,{sortKey:r,sortOrders:a});return c.filteredEntries=D(c),c.percentage=x(c),c},C=function(e,t){var r=K({},e,{useRegExp:t.payload.useRegExp});return r.filteredEntries=D(r),r.percentage=x(r),r},P=function(e,t){var r=K({},e,{invertResult:t.payload.invertResult});return r.filteredEntries=D(r),r.percentage=x(r),r},U=function(e,t){var r=K({},e,{hideNoDoc:t.payload.hideNoDoc});return r.filteredEntries=D(r),r.percentage=x(r),r},L=function(e,t){var r=K({},e,{currentSlug:t.payload.slug});return r.filteredEntries=D(r),r.percentage=x(r),r},H=function(e,t){var r=t.payload.slug;return K({},e,{bySlug:K({},e.bySlug,Object(d.a)({},r,{isFetching:!0,items:[]}))})},M=function(e,t){var r=t.payload.slug,n=K({},e,{bySlug:K({},e.bySlug,Object(d.a)({},r,{isFetching:!1,items:t.payload.data}))});return n.filteredEntries=D(n),n.percentage=x(n),n},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER_KEY":return I(e,t);case"SET_SORT_KEY":return F(e,t);case"SET_USE_REGEXP":return C(e,t);case"SET_INVERT_RESULT":return P(e,t);case"SET_HIDE_NO_DOC":return U(e,t);case"SELECT_CURRENT_SLUG":return L(e,t);case"REQUEST_ENTRIES":return H(e,t);case"RECEIVE_ENTRIES":return M(e,t);default:return e}},Y=function(e){return Object(m.combineReducers)({router:Object(i.b)(e),manifest:v,entries:V})},G=r(30),A=!1,Q=function(e){var t=e.getState,r=e.dispatch;return function(e){return function(n){if(!A){A=!0;var a=t().router;if(new RegExp("^/gems/[^/]+$").test(a.location.pathname)&&a.location.search){var c=G.parse(a.location.search);r(_(c.filterKey||"")),r(O(c.sortKey,!1)),r(S("true"===c.useRegExp)),r(R("true"===c.invertResult)),r(N("true"===c.hideNoDoc))}}return e(n)}}},X=r(4),$=r(30),J=function(e){var t=e.getState,r=e.dispatch;return function(e){return function(n){var a=e(n);switch(n.type){case"SET_FILTER_KEY":case"SET_SORT_KEY":case"SET_USE_REGEXP":case"SET_INVERT_RESULT":case"SET_HIDE_NO_DOC":var c=t().router,s=c.location.pathname,o=s+c.location.search,u=t().entries,i=$.stringify({filterKey:u.filterKey,sortKey:u.sortKey,useRegExp:u.useRegExp,invertResult:u.invertResult,hideNoDoc:u.hideNoDoc}),l=u.filterKey?"".concat(s,"?").concat(i):s;l!==o&&r(Object(X.d)(l))}return a}}},W=function(e){var t=e.getState;e.dispatch;return function(e){return function(r){var n=e(r),a=t().router,c=["rubygems-class-table"];if(new RegExp("^/gems/[^/]+$").test(a.location.pathname)){var s=t().entries,o=s.currentSlug,u=s.filterKey;o&&c.unshift(o),u&&c.unshift(u)}var i=c.join(" | ");return document.title!==i&&(document.title=i),n}}},B=Object(l.b)(),q=[f.a,Object(E.a)(B),Q,J,W];var z,Z=r(13),ee=r(14),te=r(17),re=r(15),ne=r(18),ae=r(20),ce=function(e){function t(){return Object(Z.a)(this,t),Object(te.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(h())}},{key:"render",value:function(){return a.a.createElement("div",{className:"main container-fluid my-3"},a.a.createElement("ol",{className:"breadcrumb"},a.a.createElement("li",{className:"breadcrumb-item active"},"Home")),a.a.createElement("p",null,a.a.createElement("a",{href:"https://github.com/healthypackrat/rubygems-class-table"},"\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u623b\u308b")),a.a.createElement("ul",null,this.props.items.map((function(e){return a.a.createElement("li",{key:e},a.a.createElement(ae.a,{to:"/gems/".concat(e)},e))}))))}}]),t}(a.a.Component),se=Object(o.c)((function(e){return{items:e.manifest.items}}))(ce),oe=r(62),ue=function(e){function t(e){var r;return Object(Z.a)(this,t),(r=Object(te.a)(this,Object(re.a)(t).call(this,e))).setFilterKey=oe.debounce((function(){r.props.setFilterKey(r.state.input)}),500),r.updateInput=function(e){r.setState({input:e.target.value}),r.setFilterKey()},r.state={input:r.props.filterKey},r}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"form-group"},a.a.createElement("input",{type:"search",className:"form-control",placeholder:"\u30af\u30e9\u30b9\u540d\u3067\u691c\u7d22...",value:this.state.input,onChange:this.updateInput}))}}]),t}(a.a.Component),ie=Object(o.c)((function(e){return{filterKey:e.entries.filterKey}}),{setFilterKey:_})(ue),le=Object(o.c)((function(e){return{useRegExp:e.entries.useRegExp}}),{setUseRegExp:S})((function(e){var t=e.useRegExp,r=e.setUseRegExp;return a.a.createElement("div",{className:"form-check form-group"},a.a.createElement("input",{type:"checkbox",id:"useRegExp",className:"form-check-input",checked:t,onChange:function(e){return r(e.target.checked)}}),a.a.createElement("label",{className:"form-check-label",htmlFor:"useRegExp"},"\u6b63\u898f\u8868\u73fe\u3067\u691c\u7d22"))})),me=Object(o.c)((function(e){return{invertResult:e.entries.invertResult}}),{setInvertResult:R})((function(e){var t=e.invertResult,r=e.setInvertResult;return a.a.createElement("div",{className:"form-check form-group"},a.a.createElement("input",{type:"checkbox",id:"invertResult",className:"form-check-input",checked:t,onChange:function(e){return r(e.target.checked)}}),a.a.createElement("label",{className:"form-check-label",htmlFor:"invertResult"},"\u4e00\u81f4\u3057\u306a\u3044\u3082\u306e\u3092\u8868\u793a"))})),fe=Object(o.c)((function(e){return{hideNoDoc:e.entries.hideNoDoc}}),{setHideNoDoc:N})((function(e){var t=e.hideNoDoc,r=e.setHideNoDoc;return a.a.createElement("div",{className:"form-check form-group"},a.a.createElement("input",{type:"checkbox",id:"hideNoDoc",className:"form-check-input",checked:t,onChange:function(e){return r(e.target.checked)}}),a.a.createElement("label",{className:"form-check-label",htmlFor:"hideNoDoc"},"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u66f8\u304b\u308c\u3066\u3044\u306a\u3044\u30af\u30e9\u30b9\u3092\u96a0\u3059"))})),pe=r(16),Ee=r.n(pe),de=function(e){var t=e.label,r=e.isNumber,n=e.width,c=Ee()({"text-right":r}),s={width:n};return a.a.createElement("th",{className:c,style:s},t)},he=Object(o.c)((function(e){return{stateSortKey:e.entries.sortKey,sortOrders:e.entries.sortOrders}}),{setSortKey:O})((function(e){var t=e.label,r=e.sortKey,n=e.isNumber,c=e.width,s=e.stateSortKey,o=e.sortOrders,u=e.setSortKey,i=Ee()({"table-info":r===s,"text-right":n,pointer:!0},o[r]>0?"dropup":"dropdown"),l={width:c};return a.a.createElement("th",{className:i,style:l,onClick:function(){return u(r)}},t," ",a.a.createElement("span",{className:"dropdown-toggle"}))})),ye=function(){return a.a.createElement("tr",null,a.a.createElement(de,{label:"#",isNumber:!0,width:"5em"}),a.a.createElement(he,{label:"\u30af\u30e9\u30b9\u540d",sortKey:"class_name",isNumber:!1}),a.a.createElement(he,{label:"\u30af\u30e9\u30b9\u6982\u8981",sortKey:"class_desc",isNumber:!0,width:"8em"}),a.a.createElement(he,{label:"\u30e1\u30bd\u30c3\u30c9\u6570",sortKey:"method_count",isNumber:!0,width:"8em"}),a.a.createElement(he,{label:"\u30e1\u30bd\u30c3\u30c9\u6982\u8981",sortKey:"method_desc",isNumber:!0,width:"9em"}),a.a.createElement(he,{label:"\u5408\u8a08",sortKey:"total",isNumber:!0,width:"5em"}))},ge=function(e){var t=e.entry;return a.a.createElement("td",null,a.a.createElement("a",{href:t.url,className:Ee()({"text-secondary":0===t.total}),target:"_blank",rel:"noopener noreferrer"},t.class_name))},be=function(e){var t=e.number;return a.a.createElement("td",{className:"text-right"},t)},ve=function(e){var t=e.entry;return a.a.createElement("tr",null,a.a.createElement(be,{number:t.index}),a.a.createElement(ge,{entry:t}),a.a.createElement(be,{number:t.class_desc}),a.a.createElement(be,{number:t.method_count}),a.a.createElement(be,{number:t.method_desc}),a.a.createElement(be,{number:t.total}))},_e=Object(o.c)((function(e){return{entry_count:e.entries.filteredEntries.length,char_count:e.entries.filteredEntries.reduce((function(e,t){return e+t.total}),0).toLocaleString(),percentage:e.entries.percentage}}))((function(e){var t=e.entry_count,r=e.char_count,n=e.percentage;return a.a.createElement("p",null,t,"\u4ef6\u306e\u7d50\u679c\u3001",r,"\u6587\u5b57 (",n,"%)")})),Oe=Object(o.c)((function(e){var t=e.entries.currentSlug,r=t&&e.entries.bySlug[t];return{isFetching:!r||r.isFetching,filteredEntries:e.entries.filteredEntries}}))((function(e){var t=e.isFetching,r=e.filteredEntries;return t?a.a.createElement("p",{className:"text-center"},"Loading..."):a.a.createElement("div",null,a.a.createElement(_e,null),a.a.createElement("table",{className:"table table-hover"},a.a.createElement("thead",null,a.a.createElement(ye,null)),a.a.createElement("tbody",null,r.map((function(e){return a.a.createElement(ve,{entry:e,key:e.class_name})})))))})),Se=function(e){function t(e){var r;return Object(Z.a)(this,t),(r=Object(te.a)(this,Object(re.a)(t).call(this,e))).slug=e.match.params.slug,r}return Object(ne.a)(t,e),Object(ee.a)(t,[{key:"componentDidMount",value:function(){this.props.selectCurrentSlug(this.slug),this.props.fetchEntriesIfNeeded(this.slug)}},{key:"componentWillUnmount",value:function(){this.props.setFilterKey(""),this.props.setSortKey("total",!1),this.props.setUseRegExp(!1),this.props.setInvertResult(!1),this.props.setHideNoDoc(!0)}},{key:"render",value:function(){return a.a.createElement("div",{className:"main container-fluid my-3"},a.a.createElement("ol",{className:"breadcrumb"},a.a.createElement("li",{className:"breadcrumb-item"},a.a.createElement(ae.a,{to:"/"},"Home")),a.a.createElement("li",{className:"breadcrumb-item active"},this.slug)),a.a.createElement(ie,null),a.a.createElement(le,null),a.a.createElement(me,null),a.a.createElement(fe,null),a.a.createElement(Oe,null))}}]),t}(a.a.Component),Re=Object(o.c)(null,{selectCurrentSlug:function(e){return{type:"SELECT_CURRENT_SLUG",payload:{slug:e}}},fetchEntriesIfNeeded:function(e){return function(t,r){if(function(e,t){var r=e.entries.bySlug[t];return!r||!r.isFetching&&!r.items.length}(r(),e))return t(function(e){return function(t){return t(function(e){return{type:"REQUEST_ENTRIES",payload:{slug:e}}}(e)),fetch("gems/".concat(e,".json")).then((function(e){return e.json()})).then((function(r){return t(function(e,t){return{type:"RECEIVE_ENTRIES",payload:{slug:e,data:t}}}(e,r))})).catch((function(e){return console.error(e)}))}}(e))}},setFilterKey:_,setSortKey:O,setUseRegExp:S,setInvertResult:R,setHideNoDoc:N})(Se),Ne=Object(m.createStore)(Y(B),z,Object(p.composeWithDevTools)(m.applyMiddleware.apply(void 0,q)));s.a.render(a.a.createElement((function(){return a.a.createElement(o.a,{store:Ne},a.a.createElement(i.a,{history:B},a.a.createElement(u.c,null,a.a.createElement(u.a,{path:"/",exact:!0,component:se}),a.a.createElement(u.a,{path:"/gems/:slug",component:Re}))))}),null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.f2fef46d.chunk.js.map